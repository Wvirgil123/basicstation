cmake_minimum_required(VERSION 3.0)

project(mbedtls-download NONE)

include(ExternalProject)

# Note: trying to use the latest one v2.16.3. The original one is v2.6.
#ExternalProject_Add(mbedtls
#  URL               https://github.com/ARMmbed/mbedtls/archive/mbedtls-2.14.1.tar.gz
#  SOURCE_DIR        "${CMAKE_CURRENT_BINARY_DIR}/mbedtls-src"
#  BINARY_DIR        "${CMAKE_CURRENT_BINARY_DIR}/mbedtls-build"
#  CONFIGURE_COMMAND ""
#  BUILD_COMMAND     ""
#  INSTALL_COMMAND   ""
#  TEST_COMMAND      ""
#)

ExternalProject_Add(
  mbedtls
  GIT_REPOSITORY  "https://github.com/ARMmbed/mbedtls.git"
  GIT_TAG         "mbedtls-2.6"
  UPDATE_COMMAND  ""
  PATCH_COMMAND   ""
  SOURCE_DIR      "${CMAKE_CURRENT_BINARY_DIR}/mbedtls-src"
  BINARY_DIR      "${CMAKE_CURRENT_BINARY_DIR}/mbedtls-build"
  INSTALL_COMMAND   ""
  TEST_COMMAND ""
)